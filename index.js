var d=t=>{throw TypeError(t)};var m=(t,e,r)=>e.has(t)||d("Cannot "+r);var i=(t,e,r)=>(m(t,e,"read from private field"),r?r.call(t):e.get(t)),p=(t,e,r)=>e.has(t)?d("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),P=(t,e,r,n)=>(m(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);import{a as L,P as b,i as v}from"./assets/vendor-B5bGuNTl.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const y of s.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&n(y)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();var u,l,f;class B{constructor(){p(this,u,"gcevo00lZKvSMKLnZZJPKYS5xNbpbsP_4i6E-BVlG58");p(this,l,"https://api.unsplash.com/search/photos");p(this,f,"")}async fetchPopularPhotos(e=1){return(await L(i(this,l),{params:{query:"popular",page:e,per_page:12,orientation:"portrait"},headers:{Authorization:`Client-ID ${i(this,u)}`}})).data}async fetchPhotosByQuery(e=1){return(await L(i(this,l),{params:{query:i(this,f),page:e,per_page:12,orientation:"portrait"},headers:{Authorization:`Client-ID ${i(this,u)}`}})).data}set query(e){P(this,f,e)}}u=new WeakMap,l=new WeakMap,f=new WeakMap;function h(t){return t.reduce((e,{alt_description:r,urls:{small:n}})=>e+`   <li class="gallery-item">
            <img src="${n}" alt="${r}" class="gallery-img" />
          </li>
      `,"")}const I={totalItems:0,itemsPerPage:12,visiblePages:5,page:1},g=document.querySelector(".gallery"),w=document.getElementById("pagination"),a=new b(w,I),q=a.getCurrentPage(),A=document.querySelector(".search-form");a.on("afterMove",S);const c=new B;c.fetchPopularPhotos(q).then(t=>{g.innerHTML=h(t.results),a.reset(t.total)}).catch(console.log);A.addEventListener("submit",t=>{t.preventDefault();const e=t.target.elements.query.value.trim();if(e===""){v.info({message:"Sorry, enter that you want to find"});return}a.off("afterMove",S),a.off("afterMove",M),c.query=e,c.fetchPhotosByQuery(q).then(r=>{if(r.results.length===0){v.info({message:"Sorry, enter other query"});return}g.innerHTML=h(r.results),a.reset(r.total)}).catch(r=>console.log(r)),a.on("afterMove",M)});function S(t){const e=t.page;c.fetchPopularPhotos(e).then(r=>{g.innerHTML=h(r.results)})}function M(t){const e=t.page;c.fetchPhotosByQuery(e).then(r=>{g.innerHTML=h(r.results)})}
//# sourceMappingURL=index.js.map
