var L=e=>{throw TypeError(e)};var v=(e,t,r)=>t.has(e)||L("Cannot "+r);var i=(e,t,r)=>(v(e,t,"read from private field"),r?r.call(e):t.get(e)),p=(e,t,r)=>t.has(e)?L("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),q=(e,t,r,n)=>(v(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);import{a as M,P as B,i as d}from"./assets/vendor-B5bGuNTl.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const m of s.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&n(m)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();var l,u,f;class I{constructor(){p(this,l,"gcevo00lZKvSMKLnZZJPKYS5xNbpbsP_4i6E-BVlG58");p(this,u,"https://api.unsplash.com/search/photos");p(this,f,"")}async fetchPopularPhotos(t=1){return(await M(i(this,u),{params:{query:"popular",page:t,per_page:12,orientation:"portrait"},headers:{Authorization:`Client-ID ${i(this,l)}`}})).data}async fetchPhotosByQuery(t=1){return(await M(i(this,u),{params:{query:i(this,f),page:t,per_page:12,orientation:"portrait"},headers:{Authorization:`Client-ID ${i(this,l)}`}})).data}set query(t){q(this,f,t)}}l=new WeakMap,u=new WeakMap,f=new WeakMap;function g(e){return e.reduce((t,{alt_description:r,urls:{small:n}})=>t+`   <li class="gallery-item">
            <img src="${n}" alt="${r}" class="gallery-img" />
          </li>
      `,"")}const w={totalItems:0,itemsPerPage:12,visiblePages:5,page:1},y=document.querySelector(".gallery"),h=document.getElementById("pagination"),a=new B(h,w),E=a.getCurrentPage(),A=document.querySelector(".search-form"),P=document.querySelector(".loader");a.on("afterMove",b);const c=new I;c.fetchPopularPhotos(E).then(e=>{y.innerHTML=g(e.results),a.reset(e.total),h.classList.remove("hiden")}).catch(e=>{console.log(e),d.error({message:"Error"})}).finally(()=>P.classList.add("hiden"));A.addEventListener("submit",e=>{e.preventDefault();const t=e.target.elements.query.value.trim();if(t===""){d.info({message:"Sorry, enter that you want to find"});return}a.off("afterMove",b),a.off("afterMove",S),c.query=t,P.classList.remove("hiden"),c.fetchPhotosByQuery(E).then(r=>{if(r.results.length===0){d.info({message:"Sorry, enter other query"});return}r.total>12?h.classList.remove("hiden"):h.classList.add("hiden"),y.innerHTML=g(r.results),a.reset(r.total)}).catch(r=>{console.log(r),d.error({message:"Error"})}).finally(()=>P.classList.add("hiden")),a.on("afterMove",S)});function b(e){const t=e.page;c.fetchPopularPhotos(t).then(r=>{y.innerHTML=g(r.results)})}function S(e){const t=e.page;c.fetchPhotosByQuery(t).then(r=>{y.innerHTML=g(r.results)})}
//# sourceMappingURL=index.js.map
